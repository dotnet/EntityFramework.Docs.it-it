---
title: Panoramica di Entity Framework Core - EF Core
description: Panoramica introduttiva generale di Entity Framework Core
author: ajcvickers
ms.date: 9/20/2020
uid: core/index
ms.openlocfilehash: f2905fc55419e196a6f5b8883cf2a2a76b8a1ab2
ms.sourcegitcommit: 032a1767d7a6e42052a005f660b80372c6521e7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/12/2021
ms.locfileid: "98128602"
---
# <a name="entity-framework-core"></a><span data-ttu-id="a2eb5-103">Entity Framework Core</span><span class="sxs-lookup"><span data-stu-id="a2eb5-103">Entity Framework Core</span></span>

<span data-ttu-id="a2eb5-104">Entity Framework (EF) Core è una versione semplice, estendibile, [open source](https://github.com/dotnet/efcore) e multipiattaforma della tecnologia di accesso ai dati di grande diffusione Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-104">Entity Framework (EF) Core is a lightweight, extensible, [open source](https://github.com/dotnet/efcore) and cross-platform version of the popular Entity Framework data access technology.</span></span>

<span data-ttu-id="a2eb5-105">EF Core può fungere da mapper relazionale a oggetti (O/RM), che:</span><span class="sxs-lookup"><span data-stu-id="a2eb5-105">EF Core can serve as an object-relational mapper (O/RM), which:</span></span>

* <span data-ttu-id="a2eb5-106">Consente agli sviluppatori .NET di utilizzare un database di utilizzando oggetti .NET.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-106">Enables .NET developers to work with a database using .NET objects.</span></span>
* <span data-ttu-id="a2eb5-107">Elimina la necessità della maggior parte del codice di accesso ai dati che in genere deve essere scritto.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-107">Eliminates the need for most of the data-access code that typically needs to be written.</span></span>

<span data-ttu-id="a2eb5-108">EF Core supporta molti motori di database. Per informazioni dettagliate, vedere [Provider di Database](xref:core/providers/index).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-108">EF Core supports many database engines, see [Database Providers](xref:core/providers/index) for details.</span></span>

## <a name="the-model"></a><span data-ttu-id="a2eb5-109">Il modello</span><span class="sxs-lookup"><span data-stu-id="a2eb5-109">The model</span></span>

<span data-ttu-id="a2eb5-110">Con Entity Framework Core, l'accesso ai dati viene eseguito tramite un modello.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-110">With EF Core, data access is performed using a model.</span></span> <span data-ttu-id="a2eb5-111">Un modello è costituito da classi di entità e da un oggetto di contesto che rappresenta una sessione con il database.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-111">A model is made up of entity classes and a context object that represents a session with the database.</span></span> <span data-ttu-id="a2eb5-112">L'oggetto Context consente l'esecuzione di query e il salvataggio dei dati.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-112">The context object allows querying and saving data.</span></span> <span data-ttu-id="a2eb5-113">Per ulteriori informazioni, vedere [creazione di un modello](xref:core/modeling/index).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-113">For more information, see [Creating a Model](xref:core/modeling/index).</span></span>

<span data-ttu-id="a2eb5-114">EF supporta gli approcci di sviluppo del modello seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2eb5-114">EF supports the following model development approaches:</span></span>

* <span data-ttu-id="a2eb5-115">Genera un modello da un database esistente.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-115">Generate a model from an existing database.</span></span>
* <span data-ttu-id="a2eb5-116">Codificare manualmente un modello in modo che corrisponda al database.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-116">Hand code a model to match the database.</span></span>
* <span data-ttu-id="a2eb5-117">Una volta creato un modello, usare le [migrazioni](xref:core/managing-schemas/migrations/index) di Entity Framework per creare un database dal modello.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-117">Once a model is created, use [EF Migrations](xref:core/managing-schemas/migrations/index) to create a database from the model.</span></span> <span data-ttu-id="a2eb5-118">Le migrazioni consentono di evolvere il database quando il modello viene modificato.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-118">Migrations allow evolving the database as the model changes.</span></span>

[!code-csharp[Main](../../samples/core/Intro/Model.cs)]

## <a name="querying"></a><span data-ttu-id="a2eb5-119">Query</span><span class="sxs-lookup"><span data-stu-id="a2eb5-119">Querying</span></span>

<span data-ttu-id="a2eb5-120">Le istanze delle classi di entità vengono recuperate dal database utilizzando [LINQ (Language Integrated Query)](/dotnet/csharp/programming-guide/concepts/linq/).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-120">Instances of your entity classes are retrieved from the database using [Language Integrated Query (LINQ)](/dotnet/csharp/programming-guide/concepts/linq/).</span></span> <span data-ttu-id="a2eb5-121">Per ulteriori informazioni, vedere [esecuzione di query sui dati](xref:core/querying/index).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-121">For more information, see [Querying Data](xref:core/querying/index).</span></span>

[!code-csharp[Main](../../samples/core/Intro/Program.cs#Querying)]

## <a name="saving-data"></a><span data-ttu-id="a2eb5-122">Salvataggio dei dati</span><span class="sxs-lookup"><span data-stu-id="a2eb5-122">Saving data</span></span>

<span data-ttu-id="a2eb5-123">I dati vengano creati, eliminati e modificati nel database tramite le istanze di classi di entità.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-123">Data is created, deleted, and modified in the database using instances of your entity classes.</span></span> <span data-ttu-id="a2eb5-124">Per altre informazioni, vedere [Salvataggio di dati](xref:core/saving/index).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-124">See [Saving Data](xref:core/saving/index) to learn more.</span></span>

[!code-csharp[Main](../../samples/core/Intro/Program.cs#SavingData)]

## <a name="ef-orm-considerations"></a><span data-ttu-id="a2eb5-125">Considerazioni su EF O/RM</span><span class="sxs-lookup"><span data-stu-id="a2eb5-125">EF O/RM considerations</span></span>

<span data-ttu-id="a2eb5-126">Sebbene EF Core sia efficace per astrarre molti dettagli di programmazione, esistono alcune procedure consigliate applicabili a qualsiasi O/RM che consentono di evitare problemi comuni nelle app di produzione:</span><span class="sxs-lookup"><span data-stu-id="a2eb5-126">While EF Core is good at abstracting many programming details, there are some best practices applicable to any O/RM that help to avoid common pitfalls in production apps:</span></span>

* <span data-ttu-id="a2eb5-127">Le conoscenze a livello intermedio o superiori del server di database sottostante sono essenziali per progettare, eseguire il debug, profilare ed eseguire la migrazione dei dati in applicazioni di produzione a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-127">Intermediate-level knowledge or higher of the underlying database server is essential to architect, debug, profile, and migrate data in high performance production apps.</span></span> <span data-ttu-id="a2eb5-128">Ad esempio, conoscenza di chiavi primarie ed esterne, vincoli, indici, normalizzazione, istruzioni DML e DDL, tipi di dati, profilatura e così via.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-128">For example, knowledge of primary and foreign keys, constraints, indexes, normalization, DML and DDL statements, data types, profiling, etc.</span></span>
* <span data-ttu-id="a2eb5-129">Test funzionali e di integrazione: è importante replicare l'ambiente di produzione il più vicino possibile a:</span><span class="sxs-lookup"><span data-stu-id="a2eb5-129">Functional and integration testing:  It's important to replicate the production environment as closely as possible to:</span></span>
  * <span data-ttu-id="a2eb5-130">Individuare i problemi nell'app che vengono visualizzati solo quando si usa una versione o un'edizione specifica del server di database.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-130">Find issues in the app that only show up when using a specific versions or edition of the database server .</span></span>
  * <span data-ttu-id="a2eb5-131">Rilevare le modifiche di rilievo quando si aggiornano EF Core e altre dipendenze.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-131">Catch breaking changes when upgrading EF Core and other dependencies.</span></span> <span data-ttu-id="a2eb5-132">Ad esempio, l'aggiunta o l'aggiornamento di Framework come ASP.NET Core, OData o automapper.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-132">For example, adding or upgrading frameworks like ASP.NET Core, OData, or AutoMapper.</span></span> <span data-ttu-id="a2eb5-133">Queste dipendenze possono influire EF Core in modi imprevisti.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-133">These dependencies can affect EF Core in unexpected ways.</span></span>
* <span data-ttu-id="a2eb5-134">Test di stress e prestazioni con carichi rappresentativi.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-134">Performance and stress testing with representative loads.</span></span> <span data-ttu-id="a2eb5-135">L'utilizzo ingenuo di alcune funzionalità non viene ridimensionato correttamente.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-135">The naïve usage of some features doesn't scale well.</span></span> <span data-ttu-id="a2eb5-136">Ad esempio, più raccolte includono, utilizzo intensivo del caricamento lazy, query condizionali su colonne non indicizzate, aggiornamenti e inserimenti di grandi dimensioni con valori generati dall'archivio, mancanza di gestione della concorrenza, modelli di grandi dimensioni, criteri di cache inadeguati.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-136">For example, multiple collections Includes, heavy use of lazy loading, conditional queries on non-indexed columns, massive updates and inserts with store-generated values, lack of concurrency handling, large models, inadequate cache policy.</span></span>
* <span data-ttu-id="a2eb5-137">Revisione della sicurezza: ad esempio la gestione di stringhe di connessione e altri segreti, le autorizzazioni di database per l'operazione non di distribuzione, la convalida dell'input per SQL non elaborato e la crittografia per i dati sensibili.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-137">Security review: For example, handling of connection strings and other secrets, database permissions for non-deployment operation, input validation for raw SQL, encryption for sensitive data.</span></span>
* <span data-ttu-id="a2eb5-138">Assicurarsi che la registrazione e la diagnostica siano sufficienti e utilizzabili.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-138">Make sure logging and diagnostics are sufficient and usable.</span></span> <span data-ttu-id="a2eb5-139">Ad esempio, configurazione di registrazione appropriata, tag di query e Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-139">For example, appropriate logging configuration, query tags, and Application Insights.</span></span>
* <span data-ttu-id="a2eb5-140">Ripristino degli errori.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-140">Error recovery.</span></span> <span data-ttu-id="a2eb5-141">Preparare le contingenze per scenari di errore comuni, ad esempio il rollback della versione, i server di fallback, la scalabilità orizzontale e il bilanciamento del carico, la mitigazione DoS e i backup dei dati.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-141">Prepare contingencies for common failure scenarios such as version rollback, fallback servers, scale-out and load balancing, DoS mitigation, and data backups.</span></span>
* <span data-ttu-id="a2eb5-142">Distribuzione e migrazione di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-142">Application deployment and migration.</span></span> <span data-ttu-id="a2eb5-143">Pianificare il modo in cui le migrazioni verranno applicate durante la distribuzione. l'esecuzione all'avvio dell'applicazione può subire problemi di concorrenza e richiede autorizzazioni più elevate del necessario per il normale funzionamento.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-143">Plan out how migrations are going to be applied during deployment; doing it at application start can suffer from concurrency issues and requires higher permissions than necessary for normal operation.</span></span> <span data-ttu-id="a2eb5-144">Utilizzare la gestione temporanea per facilitare il ripristino da errori irreversibili durante la migrazione.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-144">Use staging to facilitate recovery from fatal errors during migration.</span></span> <span data-ttu-id="a2eb5-145">Per ulteriori informazioni, vedere [applicazione delle migrazioni](xref:core/managing-schemas/migrations/applying).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-145">For more information, see [Applying Migrations](xref:core/managing-schemas/migrations/applying).</span></span>
* <span data-ttu-id="a2eb5-146">Analisi e test dettagliati delle migrazioni generate.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-146">Detailed examination and testing of generated migrations.</span></span> <span data-ttu-id="a2eb5-147">Le migrazioni devono essere testate accuratamente prima di essere applicate ai dati di produzione.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-147">Migrations should be thoroughly tested before being applied to production data.</span></span> <span data-ttu-id="a2eb5-148">Non è possibile modificare facilmente la forma dello schema e i tipi di colonna quando le tabelle contengono dati di produzione.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-148">The shape of the schema and the column types cannot be easily changed once the tables contain production data.</span></span> <span data-ttu-id="a2eb5-149">Ad esempio, in SQL Server `nvarchar(max)` e `decimal(18, 2)` sono raramente i tipi migliori per le colonne mappate alle proprietà di stringa e decimali, ma queste sono le impostazioni predefinite usate da EF perché non sono in grado di conoscere lo scenario specifico.</span><span class="sxs-lookup"><span data-stu-id="a2eb5-149">For example, on SQL Server, `nvarchar(max)` and `decimal(18, 2)` are rarely the best types for columns mapped to string and decimal properties, but those are the defaults that EF uses because it doesn't have knowledge of your specific scenario.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a2eb5-150">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="a2eb5-150">Next steps</span></span>

<span data-ttu-id="a2eb5-151">Per le esercitazioni introduttive, vedere [Introduzione a Entity Framework Core](xref:core/get-started/overview/first-app).</span><span class="sxs-lookup"><span data-stu-id="a2eb5-151">For introductory tutorials, see [Getting Started with Entity Framework Core](xref:core/get-started/overview/first-app).</span></span>
